!function(e){if("undefined"==typeof vhc_wc_purchased_items_column_params)return;const s=()=>{const s=e(document).find(".vhc-order-items-panel");s.length&&(s.removeClass("is-open"),setTimeout((()=>s.remove()),100))};e(document).on("click",".vhc-show-order-items",(c=>{let r;c.preventDefault();const a=e(c.currentTarget),t=a.data("id"),d=a.data("count");s(),void 0!==t&&""!==t&&e.ajax({type:"POST",url:vhc_wc_purchased_items_column_params.ajax_url,data:{nonce:vhc_wc_purchased_items_column_params.nonce,action:"vhc_wc_purchased_items_column_fetch_items_ajax",order_id:t},dataType:"json",beforeSend:function(){e(".wrap").prepend(((e="",s=0)=>`<div class="vhc-order-items-panel"><div class="vhc-order-items-panel-content"><div class="vhc-order-items-panel-header"><h3>${vhc_wc_purchased_items_column_params.i18n_order_items.replace("%s",`#${e}`)}</h3></div><div class="vhc-order-items-panel-content-inner">${'<section class="vhc-order-items-card empty-card"><span class="vhc-order-items-card-icon" aria-hidden="true"><span class="placeholder"></span></span><header class="vhc-order-items-card-header"><h4 class="vhc-order-items-card-title placeholder"></h4></header><div class="vhc-order-items-card-body"><span class="placeholder"></span></div></section>'.repeat(s=void 0===s||s<1?1:+s)}</div>`)(t,d)),(()=>{const s=e(".woocommerce-layout__header"),c=e(document).find("#wpadminbar"),r=e(document).find(".vhc-order-items-panel"),a=(s.length?s.height():0)+(c.length?c.height():0);r.css({top:`${a}px`,height:`calc(100vh - ${a}px)`})})(),r=e(document).find(".vhc-order-items-panel"),setTimeout((()=>r.addClass("is-open")),100),e(".vhc-show-order-items").addClass("disabled")},success:c=>{e(".vhc-show-order-items").removeClass("disabled"),c.success?setTimeout((()=>r.find(".vhc-order-items-panel-content-inner").html(c.data.items)),300):(s(),alert(c.data.error))},error:()=>{e(".vhc-show-order-items").removeClass("disabled"),s(),alert(vhc_wc_purchased_items_column_params.i18n_something_went_wrong)}})})).on("click","#wpcontent",(function(c){0!==e(c.target).closest(".vhc-order-items-panel").length||e(c.target).hasClass("vhc-show-order-items")||s()})),e(window).on("resize",(()=>s()))}(jQuery);