!function(e){if("undefined"==typeof vhc_wc_purchased_items_column_params)return;const a={remove_panel:()=>{const s=e(document).find(".vhc-items-panel");s.length&&(s.removeClass("is-open"),setTimeout((()=>s.remove()),100),e("#wpcontent")[0].removeEventListener("click",a.close_panel))},get_panel:(e="",a=0)=>`<div class="vhc-items-panel"><div class="panel-content"><div class="panel-header"><h3>${vhc_wc_purchased_items_column_params.i18n_order_items.replace("%s",`#${e}`)}</h3></div><div class="panel-content-inner">${'<section class="items-card empty-card"><span class="card-icon" aria-hidden="true"><span class="placeholder"></span></span><header class="card-header"><h4 class="card-title placeholder"></h4></header><div class="card-body"><span class="placeholder"></span></div></section>'.repeat(a=void 0===a||a<1?1:+a)}</div>`,adjust_panel:()=>{const a=e(".woocommerce-layout__header"),s=e(document).find("#wpadminbar"),n=e(document).find(".vhc-items-panel"),t=(a.length?a.height():0)+(s.length?s.height():0);n.css({top:`${t}px`,height:`calc(100vh - ${t}px)`})},close_panel:s=>{0!==e(s.target).closest(".vhc-items-panel").length||e(s.target).hasClass("vhc-show-order-items")||a.remove_panel()}};e(document).on("click touch",".vhc-show-order-items:not(.disabled)",(s=>{let n;s.preventDefault();const t=e(s.currentTarget),c=t.data("id"),o=t.data("count");a.remove_panel(),void 0!==c&&""!==c&&e.ajax({type:"POST",url:vhc_wc_purchased_items_column_params.ajax_url,data:{nonce:vhc_wc_purchased_items_column_params.nonce,action:"vhc_wc_purchased_items_column_fetch_items_ajax",order_id:c},dataType:"json",beforeSend:function(){e(".wrap").prepend(a.get_panel(c,o)),a.adjust_panel(),n=e(document).find(".vhc-items-panel"),setTimeout((()=>n.addClass("is-open")),100),e(".vhc-show-order-items").addClass("disabled")},success:s=>{s.success?(setTimeout((()=>n.find(".panel-content-inner").html(s.data.items)),300),e("#wpcontent")[0].addEventListener("click",a.close_panel)):(a.remove_panel(),alert(s.data.error))},error:()=>{a.remove_panel(),alert(vhc_wc_purchased_items_column_params.i18n_something_went_wrong)},complete:()=>{e(".vhc-show-order-items").removeClass("disabled")}})})),e(window).on("resize",(()=>e(window).width()<=782&&a.remove_panel()))}(jQuery);