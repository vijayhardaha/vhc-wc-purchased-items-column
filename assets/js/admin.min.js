!function(e){if("undefined"==typeof wc_purchased_items_column_params)return;const r={init:()=>{e(document).on("click",".wc-show-order-items",(a=>{let s;a.preventDefault();const c=e(a.currentTarget),t=c.data("id"),d=c.data("count");r.removeWrapper(),void 0!==t&&""!==t&&e.ajax({type:"POST",url:wc_purchased_items_column_params.ajax_url,data:{nonce:wc_purchased_items_column_params.nonce,action:"wc_purchased_items_column_fetch_items_ajax",order_id:t},dataType:"json",beforeSend:function(){e(".wrap").prepend(r.getWrapper(t,d)),s=e(document).find(".wc-order-items-panel-wrapper"),setTimeout((()=>s.addClass("is-open")),100),e(".wc-show-order-items").addClass("disabled")},success:a=>{e(".wc-show-order-items").removeClass("disabled"),a.success?s.find(".wc-order-items-panel-content-inner").html(a.data.items):(r.removeWrapper(),alert(a.data.error))},error:()=>{e(".wc-show-order-items").removeClass("disabled"),r.removeWrapper(),alert(wc_purchased_items_column_params.i18n_something_went_wrong)}})})).on("click","#wpcontent",(function(a){0!==e(a.target).closest(".wc-order-items-panel-wrapper").length||e(a.target).hasClass("wc-show-order-items")||r.removeWrapper()}))},getWrapper:(e="",r=0)=>`<div class="wc-order-items-panel-wrapper"><div class="wc-order-items-panel-content"><div class="wc-order-items-panel-header"><h3>${wc_purchased_items_column_params.i18n_order_items.replace("%s",`#${e}`)}</h3></div><div class="wc-order-items-panel-content-inner">${'<section class="wc-order-items-card empty-card"><span class="wc-order-items-card-icon" aria-hidden="true"><span class="placeholder"></span></span><header class="wc-order-items-card-header"><h4 class="wc-order-items-card-title placeholder"></h4></header><div class="wc-order-items-card-body"><span class="placeholder"></span></div></section>'.repeat(r=void 0===r||r<1?1:+r)}</div>`,removeWrapper:()=>{const r=e(document).find(".wc-order-items-panel-wrapper");r.length&&(r.removeClass("is-open"),setTimeout((()=>r.remove()),100))}};r.init()}(jQuery);